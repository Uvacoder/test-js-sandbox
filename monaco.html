<!-- https://stackoverflow.com/questions/63179813/how-to-run-the-monaco-editor-from-a-cdn-like-cdnjs -->
<!-- https://github.com/microsoft/monaco-editor-samples -->
<!-- https://github.com/microsoft/monaco-editor/blob/master/docs/integrate-amd-cross.md -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Monaco Editor</title>
    <link
      rel="stylesheet"
      data-name="vs/editor/editor.main"
      href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.21.2/min/vs/editor/editor.main.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <div id="container" style="height: 100vh; width: 100vw"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.21.2/min/vs/loader.min.js"></script>
    <script>
      require.config({
        paths: {
          vs:
            'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.21.2/min/vs',
        },
      })

      window.MonacoEnvironment = { getWorkerUrl: () => proxy }

      const proxy = URL.createObjectURL(
        new Blob(
          [
            `self.MonacoEnvironment = { baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.21.2/min'};
            importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.21.2/min/vs/base/worker/workerMain.min.js');`,
          ],
          { type: 'text/javascript' }
        )
      )

      function monacoEditor() {
        const editor = monaco.editor.create(
          document.getElementById('container'),
          {
            language: 'javascript',
            theme: 'vs-dark',
          }
        )
      }

      require(['vs/editor/editor.main'], monacoEditor)
    </script>
  </body>
</html>
